(async () => {
require('./config')
const {
  useSingleFileAuthState,
  useMultiFileAuthState,
  DisconnectReason
} = require('@adiwajshing/baileys')

// menggunakan multi auth file

// if (opts['cluster']) {
//   require('./lib/cluster').Cluster()
// }
const authFile = `${opts._[0] || 'sessions'}`
global.isInit = !fs.existsSync(authFile)
const { state, saveState, saveCreds } = await useMultiFileAuthState(authFile)

const connectionOptions = {
  printQRInTerminal: true,
  auth: state,
  logger: P({ level: 'silent'}), // bisa ke debug/trace 
  version: [2, 2204, 13]
}